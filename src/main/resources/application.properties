spring.application.name=Multibank

# VBank client
vbank.baseUrl=https://vbank.open.bankingapi.ru
vbank.clientId=team020
vbank.clientSecret=PfA7bDk1k14ppzJO9j7ZCTyNEIgOlF45

# OAuth 2.0 ????????? ??? ??????
bank.oauth2.banks.tinkoff.client-id=your-tinkoff-client-id
bank.oauth2.banks.tinkoff.client-secret=your-tinkoff-client-secret
bank.oauth2.banks.tinkoff.authorization-uri=https://id.tinkoff.ru/auth/authorize
bank.oauth2.banks.tinkoff.token-uri=https://id.tinkoff.ru/auth/token
bank.oauth2.banks.tinkoff.user-info-uri=https://api.tinkoff.ru/v1/user_info
bank.oauth2.banks.tinkoff.scope=accounts,transactions,balance

# Spring Security OAuth2
spring.security.oauth2.client.registration.tinkoff.client-id=your-client-id
spring.security.oauth2.client.registration.tinkoff.client-secret=your-client-secret
spring.security.oauth2.client.registration.tinkoff.scope=accounts,transactions,balance
spring.security.oauth2.client.registration.tinkoff.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.tinkoff.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}

spring.security.oauth2.client.provider.tinkoff.authorization-uri=https://id.tinkoff.ru/auth/authorize
spring.security.oauth2.client.provider.tinkoff.token-uri=https://id.tinkoff.ru/auth/token
spring.security.oauth2.client.provider.tinkoff.user-info-uri=https://api.tinkoff.ru/v1/user_info
spring.security.oauth2.client.provider.tinkoff.user-name-attribute=sub
# ????????? ????????????
spring.task.scheduling.enabled=true

# ????????? ??? ????????????? ??????
app.data-sync.enabled=true
app.data-sync.interval=1800000 # 30 ????? ? ?????????????

# Open Banking API Configuration
bank.api.abank.base-url=https://abank.open.bankingapi.ru
bank.api.vbank.base-url=https://vbank.open.bankingapi.ru  
bank.api.sbank.base-url=https://sbank.open.bankingapi.ru

# OAuth2 Configuration
spring.security.oauth2.client.registration.abank.client-id=multibank-client-id
spring.security.oauth2.client.registration.abank.client-secret=multibank-client-secret
spring.security.oauth2.client.registration.abank.scope=accounts,payments,openid
spring.security.oauth2.client.registration.abank.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}

spring.security.oauth2.client.registration.vbank.client-id=multibank-client-id
spring.security.oauth2.client.registration.vbank.client-secret=multibank-client-secret
spring.security.oauth2.client.registration.vbank.scope=accounts,payments,openid
spring.security.oauth2.client.registration.vbank.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}

spring.security.oauth2.client.registration.sbank.client-id=multibank-client-id
spring.security.oauth2.client.registration.sbank.client-secret=multibank-client-secret
spring.security.oauth2.client.registration.sbank.scope=accounts,payments,openid
spring.security.oauth2.client.registration.sbank.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}


# OAuth2 Provider Configuration
spring.security.oauth2.client.provider.abank.authorization-uri=https://abank.open.bankingapi.ru/oauth/authorize
spring.security.oauth2.client.provider.abank.token-uri=https://abank.open.bankingapi.ru/oauth/token
spring.security.oauth2.client.provider.abank.user-info-uri=https://abank.open.bankingapi.ru/openbanking/userinfo
spring.security.oauth2.client.provider.abank.user-name-attribute=sub

spring.security.oauth2.client.provider.vbank.authorization-uri=https://vbank.open.bankingapi.ru/oauth/authorize
spring.security.oauth2.client.provider.vbank.token-uri=https://vbank.open.bankingapi.ru/oauth/token
spring.security.oauth2.client.provider.vbank.user-info-uri=https://vbank.open.bankingapi.ru/openbanking/userinfo
spring.security.oauth2.client.provider.vbank.user-name-attribute=sub

spring.security.oauth2.client.provider.sbank.authorization-uri=https://sbank.open.bankingapi.ru/oauth/authorize
spring.security.oauth2.client.provider.sbank.token-uri=https://sbank.open.bankingapi.ru/oauth/token
spring.security.oauth2.client.provider.sbank.user-info-uri=https://sbank.open.bankingapi.ru/openbanking/userinfo
spring.security.oauth2.client.provider.sbank.user-name-attribute=sub



# Banking API Configuration - MOCK ????? ?? ?????????
bankingapi.mock.enabled=true
bankingapi.client.id=test-client-id
bankingapi.client.secret=test-client-secret
bankingapi.auth.url=https://auth.bankingapi.ru/auth/realms/kubernetes/protocol/openid-connect/token
bankingapi.base.url=https://api.bankingapi.ru

# ??? ????????? ????????? API ??????????:
# bankingapi.mock.enabled=false
# bankingapi.client.id=your-real-client-id
# bankingapi.client.secret=your-real-client-secret

# GOST Configuration
bankingapi.gost.enabled=false
bankingapi.gost.base.url=https://api.gost.bankingapi.ru:8443

# API Endpoints
bankingapi.endpoints.accounts=/rbs/accounts/v1/accounts
bankingapi.endpoints.transactions=/rbs/accounts/v1/accounts/{accountId}/transactions
bankingapi.endpoints.payment-consents=/rbs/pis/v1/payment-consents
bankingapi.endpoints.payments=/rbs/pis/v1/payments
bankingapi.endpoints.cards=/rbs/cards/v1/cards

# ????????? ?????????...

spring.datasource.url=jdbc:h2:mem:multibank
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
server.port=8080

# ??????????? ??? ??????? ??????????????
logging.level.org.springframework.security=DEBUG
logging.level.app.Multibank.service.UserService=DEBUG
logging.level.org.springframework.security.authentication=DEBUG

# ?????????? SQL ???????
spring.jpa.properties.hibernate.format_sql=true



# Thymeleaf
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false

# ????????? ??????????? Thymeleaf ??? ???????
logging.level.org.thymeleaf=DEBUG
logging.level.org.thymeleaf.TemplateEngine=DEBUG
logging.level.org.thymeleaf.context=DEBUG

# ?????????? ?????? ?????? Thymeleaf
spring.thymeleaf.check-template=true
spring.thymeleaf.check-template-location=true